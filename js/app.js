///Pcs de escritorio

const pcEscritorio1 = new Producto ('pc-escritorio-01','Pc Intel i5 10400 SSD 240Gb 8Gb','../img/productos/pcs-escritorio/pc-escritorio01.jpg',224099,'intel','','pcs','Pc ensamblada, IntelCore i5 SSD 240Gb de memoria');
const pcEscritorio2 = new Producto ('pc-escritorio-02','Pc AMD Ryzen 5 5600G 8Gb SSD 240Gb','../img/productos/pcs-escritorio/pc-escritorio02.jpg',210089,'amd','','pcs','Pc ensamblada, AMD Ryzen 5 5600G, 240Gb de memoria');
const pcEscritorio3 = new Producto ('pc-escritorio-03','Pc Intel i3 10105 SSD 240Gb 8Gb','../img/productos/pcs-escritorio/pc-escritorio03.jpg',203079,'intel','','pcs','Pc ensamblada, IntelCore i3 décima generación, 8Gb RAM, 240Gb de memoria');
const pcEscritorio4 = new Producto ('pc-escritorio-04','Pc Gamer Intel Kairos Core i3 10105F 16Gb SSD 240Gb GTX 1660Ti 6Gb','../img/productos/pcs-escritorio/pc-escritorio04.jpg',415759,'intel','','pcs','Pc gamer ensamblada, IntelCore i3 décima generación, 16Gb RAM, 240Gb de memoria GTX 1660Ti');
const pcEscritorio5 = new Producto ('pc-escritorio-05','Pc AMD Gamer Kairos PRO Ryzen 7 4750G 16Gb SSD 240Gb RTX 3060Ti','../img/productos/pcs-escritorio/pc-escritorio05.jpg',614339,'amd','','pcs','Pc gamer ensamblada, AMD Ryzen 7 4750G, 16Gb RAM 240gb memoria, RTX 3060Ti');
const pcEscritorio6 = new Producto ('pc-escritorio-06','Pc Intel Gamer Thermaltake i3 10100F 8Gb 1Tb 650W RX 570 4Gb','../img/productos/pcs-escritorio/pc-escritorio06.jpg',280139,'intel','','pcs','Pc gamer Thermaltake ensamblada, IntelCore i3 décima generación, 8Gb RAM 1Tb memoria, RX 570');
const pcEscritorio7 = new Producto ('pc-escritorio-07','Pc Intel i5 12400 SSD 240Gb 16Gb + Monitor 22"','../img/productos/pcs-escritorio/pc-escritorio07.jpg',350169,'intel','','pcs','Pc para trabajo ensamblada, IntelCore i5 doceava generación, 16Gb RAM 240Gb de memoria + Monitor 22 pulgadas');
const pcEscritorio8 = new Producto ('pc-escritorio-08','Pc AMD Ryzen 7 5700G 16Gb SSD 240Gb','../img/productos/pcs-escritorio/pc-escritorio08.jpg',273119,'amd','','pcs','Pc ensamblada, AMD Ryzen 7 5700G, 16Gb RAM SSD 240Gb de memoria');
const pcEscritorio9 = new Producto ('pc-escritorio-09','Pc AMD Gamer Karios PRO Ryzen 3 4100 16Gb SSD 240Gb RTX 3060Ti','../img/productos/pcs-escritorio/pc-escritorio09.jpg',614339,'amd','','pcs','Pc gamer ensamblada, AMD Ryzen 3 4100, 16Gb RAM 240Gb memoria, RTX 3060Ti');

///Notebooks

const notebook1 = new Producto ('notebook-01','Notebook Lenovo V15 Pentium N5030 4Gb 1Tb 15.6" Free','../img/productos/notebooks/notebook01.jpg',224990,'intel','lenovo','notebooks','Notebook Lenovo, procesador Pentium 1Tb');
const notebook2 = new Producto ('notebook-02','Notebook HP 245 G8 AMD Athlon 3020E 1Tb 4Gb 14 Free','../img/productos/notebooks/notebook02.jpg',218499,'amd','hp','notebooks','Notebook HP, AMD Athlon 1Tb');
const notebook3 = new Producto ('notebook-03','Notebook Dell Vostro 3401 i3 1005G1 8Gb SSD 256Gb 14 Free','../img/productos/notebooks/notebook03.jpg',259990,'intel','dell','notebooks','Notebook Dell Vostro, Core i3 SSD 256Gb');
const notebook4 = new Producto ('notebook-04','Notebook Gigabyte Aorus 5 KE4 i7 12700H 16Gb SSD 1Tb RTX 3060 15.6" W10','../img/productos/notebooks/notebook10.jpg',1189999,'intel','gigabyte','notebooks','Notebook gamer Gigabyte Aorus, IntelCore i7 SSD 1Tb RTX 3060');
const notebook5 = new Producto ('notebook-05','Notebook Asus ROG Zephyrus G14 GA401 IHR Ryzen 7 4800HS 16Gb 512Gb 1650 14 W10','../img/productos/notebooks/notebook05.jpg',999990,'amd','asus','notebooks','Notebook Asus ROG Gamer, Ryzen 7 16Gb Ram, 512Gb de memoria');
const notebook6 = new Producto ('notebook-06','Notebook Asus Zenbook Duo 14 UX482EGR-KA337W Core i7 1195G7 16Gb SSD 1Tb MX 450 14 W11','../img/productos/notebooks/notebook06.jpg',999990,'intel','asus','notebooks','Notebook Asus Zenbook, Core i7 SSD 1Tb de memoria');
const notebook7 = new Producto ('notebook-07','Nootebok Apple Macbook AIR M1 13 8Gb 512Gb Silver','../img/productos/notebooks/notebook11.jpg',899999,'','apple','notebooks','Notebook Apple Macbook AIR, 512 Gb memoria, Silver');
const notebook8 = new Producto ('notebook-08','Notebook Gigabyte Aorus 17G i7 11800H RTX 3070 16Gb SSD 512Gb 17 W10','../img/productos/notebooks/notebook08.jpg',1249999,'intel','gigabyte','notebooks','Notebook gamer Gigabyte Aorus, IntelCore i7 RTX 3060, 512Gb memoria');
const notebook9 = new Producto ('notebook-09','Notebook Apple Macbook Air M1 13 8Gb 512Gb Space Grey','../img/productos/notebooks/notebook09.jpg',899999,'','apple','notebooks','Notebook Apple Macbook AIR, 512Gb memoria, Grey');

///Celulares

const celular1 = new Producto ('celular-01','Celular Motorola G42 4Gb RAM 128Gb','../img/productos/celulares/celular01.png',89999,'','motorola','celulares','Celular Motorola G42, 128Gb de memoria');
const celular2 = new Producto ('celular-02','Celular Motorola E32 64Gb 4Gb RAM','../img/productos/celulares/celular02.png',63999,'','motorola','celulares','Celular Motorola E32, 64Gb de memoria');
const celular3 = new Producto ('celular-03','Celular Motorola G72 128Gb 4Gb RAM','../img/productos/celulares/celular03.png',119999,'','motorola','celulares','Celular Motorola G72, 128Gb de memoria');
const celular4 = new Producto ('celular-04','Celular Samsung Galaxy Xcover Pro 4Gb RAM 64Gb P/uso Intenso','../img/productos/celulares/celular04.jpg',179990,'','samsung','celulares','Celular Samsung Galaxy Xcover Pro, 64gb');
const celular5 = new Producto ('celular-05','Celular Samsung Galaxy A53 5g 8Gb Ram + 256Gb - Black','../img/productos/celulares/celular05.webp',196999,'','samsung','celulares','Celular Samsung Galaxy A53 8Gb Ram + 256Gb de memoria, Black');
const celular6 = new Producto ('celular-06','Celular Samsung Galaxy A04s 128Gb 4Gb RAM - Black - Aquamarine','../img/productos/celulares/celular06.webp',68729,'','samsung','celulares','Celular Samsung Galaxy A04s, 128Gb de memoria, Black');
const celular7 = new Producto ('celular-07','Celular Apple Iphone 13 Pro 512Gb - Silver','../img/productos/celulares/celular07.webp',975099,'','iphone','celulares','Celular Apple Iphone 13 Pro, 512Gb de memoria - Silver');
const celular8 = new Producto ('celular-08','Celular Apple Iphone 14 Plus 256Gb - Red','../img/productos/celulares/celular08.webp',774999,'','iphone','celulares','Celular Apple Iphone 14 Plus, 256Gb de memoria - Color Red');
const celular9 = new Producto ('celular-09','Celular Apple Iphone 13 512Gb - Blue Night','../img/productos/celulares/celular09.webp',653555,'','iphone','celulares','Celular Apple Iphone 13, 512Gb de memoria, color Blue Night');


let productos = [pcEscritorio1,pcEscritorio2,pcEscritorio3,pcEscritorio4,pcEscritorio5,pcEscritorio6,pcEscritorio7,pcEscritorio8,pcEscritorio9,notebook1,notebook2,notebook3,notebook4,notebook5,notebook6,notebook7,notebook8,notebook9,celular1,celular2,celular3,celular4,celular5,celular6,celular7,celular8,celular9];

let contenedorPcs = document.querySelector('#contenedor-pcs');
let contenedorNotebooks = document.querySelector('#contenedor-notebooks');
let contenedorCelulares = document.querySelector('#contenedor-celulares');
let botonesAgregar = document.querySelectorAll('.btn-cart');

const productosPcs = productos.filter((el) => el.categoria.includes('pcs'));
const productosNotebooks = productos.filter((el) => el.categoria.includes('notebooks'));
const productosCelulares = productos.filter((el) => el.categoria.includes('celulares'));

function cargarProductos() {

        productosPcs.forEach(producto => {
            const div = document.createElement('div');
            div.classList.add('card');
            div.innerHTML = `
                <img src="${producto.imagen}" class="card-img-top" alt="${producto.alt}">
                <div class="card-body bg-card">
                    <h3 class="card-title fw-semibold">$${producto.precio}</h3>
                    <p class="card-text">${producto.descripcion}</p>
                    <button class="btn btn-cart" id="${producto.id}">Agregar al carrito</button>
                </div>
            `;
            contenedorPcs.append(div);
        })

        productosNotebooks.forEach(producto => {
            const divN = document.createElement('div');
            divN.classList.add('card');
            divN.innerHTML = `
                <img src="${producto.imagen}" class="card-img-top" alt="${producto.alt}">
                <div class="card-body bg-card">
                    <h3 class="card-title fw-semibold">$${producto.precio}</h3>
                    <p class="card-text">${producto.descripcion}</p>
                    <button class="btn btn-cart" id="${producto.id}">Agregar al carrito</button>
                </div>
            `;
            contenedorNotebooks.append(divN);
        })

        productosCelulares.forEach(producto => {
            const divC = document.createElement('div');
            divC.classList.add('card');
            divC.innerHTML = `
                <img src="${producto.imagen}" class="card-img-top img-fix" alt="${producto.alt}">
                <div class="card-body bg-card">
                    <h3 class="card-title fw-semibold">$${producto.precio}</h3>
                    <p class="card-text">${producto.descripcion}</p>
                    <button class="btn btn-cart" id="${producto.id}">Agregar al carrito</button>
                </div>
            `;
            contenedorCelulares.append(divC);
        })

    actualizarBotones();    
}

cargarProductos();

///Carrito de compras 

const productosCarrito = [];

function actualizarBotones() {
    botonesAgregar = document.querySelectorAll('.btn-cart');

    botonesAgregar.forEach(boton => {
        boton.addEventListener("click",agregarCarrito);
    })
}

function agregarCarrito(e) {
    const idBoton = e.currentTarget.id;
    const productoAgregado = productos.find((el) => el.id === idBoton);

    if(productosCarrito.some(producto => producto.id === idBoton)) {
        const index = productosCarrito.findIndex(producto => producto.id === idBoton);
        productosCarrito[index].cantidad++;
    } else {
        productoAgregado.cantidad = 1;
        productosCarrito.push(productoAgregado);
    }
}



